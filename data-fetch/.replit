# Replit configuration for Streamlit app
# This file configures how Replit runs and deploys the application

# Entry point - the main file to display in the editor
entrypoint = "app.py"

# Language runtime
language = "python3"

# Python modules
modules = ["python-3.11"]

# Install Playwright browsers when Replit boots
# This ensures browsers are available after Python dependencies are installed
# --with-deps: Automatically installs system dependencies
onBoot = "python -m playwright install chromium --with-deps || echo 'Playwright installation failed, continuing...'"

# Run configuration
[run]
# Command to run the Streamlit app
# --server.port=8501: Streamlit default port
# --server.address=0.0.0.0: Listen on all interfaces (required for Replit)
run = ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]

# Port configuration for Replit
# Replit automatically forwards ports, but explicit configuration ensures proper deployment
[[ports]]
localPort = 8501
externalPort = 80

# Deployment configuration
[deployment]
# Command to run when deploying
run = ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]
# Deployment target (cloudrun for Replit Cloud)
deploymentTarget = "cloudrun"

# Environment variables (optional - use Replit Secrets tool instead)
# Secrets should be set via Replit's Secrets tool (lock icon in sidebar)
# They will be automatically available as environment variables
[run.env]
# No default env vars needed - use Replit Secrets tool

# Hidden files (files to hide in Replit file explorer)
hidden = [".streamlit", ".env", "__pycache__", "*.pyc", ".pytest_cache", "venv", ".venv"]
